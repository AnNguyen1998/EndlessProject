{"version":3,"sources":["LoadingController.js"],"names":["cc","Class","extends","Component","properties","loadProgressBar","default","type","ProgressBar","spineBoy","sp","Skeleton","onLoad","initProgressBar","preLoadScene","setAnimation","director","preloadScene","completedCount","totalCount","item","percent","progress","startX","node","x","width","moveDistance","loadScene"],"mappings":";;;;;;AAAAA,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;;AAERC,yBAAiB;AACbC,qBAAS,IADI;AAEbC,kBAAMP,GAAGQ;AAFI,SAFT;AAMRC,kBAAU;AACNH,qBAAS,IADH;AAENC,kBAAMG,GAAGC;AAFH;;AANF,KAHP;;AAgBLC,UAhBK,oBAgBI;AACL,aAAKC,eAAL;AACA,aAAKC,YAAL;AACH,KAnBI;AAqBLA,gBArBK,0BAqBU;AAAA;;AACX,aAAKL,QAAL,CAAcM,YAAd,CAA2B,CAA3B,EAA8B,KAA9B,EAAqC,IAArC;AACAf,WAAGgB,QAAH,CAAYC,YAAZ,CAAyB,YAAzB,EAAuC,UAACC,cAAD,EAAiBC,UAAjB,EAA6BC,IAA7B,EAAsC;AACzE,gBAAIC,UAAUH,iBAAiBC,UAA/B;AACA,kBAAKd,eAAL,CAAqBiB,QAArB,GAAgCD,OAAhC;AACA,gBAAME,SAAS,MAAKlB,eAAL,CAAqBmB,IAArB,CAA0BC,CAA1B,GAA8B,MAAKpB,eAAL,CAAqBmB,IAArB,CAA0BE,KAA1B,GAAkC,CAA/E;AACA,gBAAIC,eAAe,MAAKtB,eAAL,CAAqBmB,IAArB,CAA0BE,KAA1B,GAAkC,MAAKrB,eAAL,CAAqBiB,QAA1E;AACA,kBAAKb,QAAL,CAAce,IAAd,CAAmBC,CAAnB,GAAuBE,eAAeJ,MAAtC;AACH,SAND,EAOI,YAAM;AACGvB,eAAGgB,QAAH,CAAYY,SAAZ,CAAsB,YAAtB;AACR,SATL;AAUH,KAjCI;AAmCLf,mBAnCK,6BAmCa;AACd,aAAKR,eAAL,CAAqBiB,QAArB,GAAgC,CAAhC;AACH;AArCI,CAAT","file":"LoadingController.js","sourceRoot":"../../../../../assets/Scripts/Loading","sourcesContent":["cc.Class({\n    extends: cc.Component,\n\n    properties: {\n\n        loadProgressBar: {\n            default: null,\n            type: cc.ProgressBar,\n        },\n        spineBoy: {\n            default: null,\n            type: sp.Skeleton,\n        },\n\n    },\n\n    onLoad() {\n        this.initProgressBar();\n        this.preLoadScene();\n    },\n\n    preLoadScene() {\n        this.spineBoy.setAnimation(0, \"run\", true);\n        cc.director.preloadScene(\"LobbyScene\", (completedCount, totalCount, item) => {\n            let percent = completedCount / totalCount;\n            this.loadProgressBar.progress = percent;\n            const startX = this.loadProgressBar.node.x - this.loadProgressBar.node.width / 2;\n            let moveDistance = this.loadProgressBar.node.width * this.loadProgressBar.progress;\n            this.spineBoy.node.x = moveDistance + startX;\n        },\n            () => {\n                     cc.director.loadScene(\"LobbyScene\");\n            });\n    },\n\n    initProgressBar() {\n        this.loadProgressBar.progress = 0;\n    },\n\n});\n"]}